
<div class="ccg-subheader" style="background-image: url('images/sub-header-img.jpg');">
    <span class="ccg-subheader-transparent" style="background-color: tan;"></span>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Search</h1>
                <ul class="ccg-breadcrumb">
                    <li><a href="index.html">Home Page</a></li>
                    <li>Search</li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!--// Subheader \\-->

<!--// Main Content \\-->
<div class="ccg-main-content">
    <div class="modal fade" id="iconModal" tabindex="-1" role="dialog" aria-labelledby="iconModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="iconModalLabel">Description of Icons</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
          </button>
      </div>
      <div class="modal-body">
        <div class="icons-modal">
            <table>
                <tr>
                    <th>
                        <span style="text-align: center;">Column 1</span>
                    </th>
                    <th>
                        <span style="text-align: center;">Column 2</span>
                    </th>
                    <th>
                        <span style="text-align: center;">Column 3</span>
                    </th>
                    <th>
                        <span style="text-align: center;">Column 5</span>
                    </th>
                    <th>
                        <span style="text-align: center;">Column 6</span>
                    </th>
                    <th>
                        <span style="text-align: center;">Column 7</span>
                    </th>
                    <th>
                        <span style="text-align: center;">Column 8</span>
                    </th>
                    <th>
                        <span style="text-align: center;">Column 9</span>
                    </th>
                </tr>
                <tr>
                    <th>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Mountains.png" alt=""> Mountains</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Lake.png" alt=""> Lake</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/River.png" alt=""> River/Creek</span>
                        <!-- <span><img src="<?php echo base_url(); ?>assets/images/icons/prairie.png" alt=""> Prairie</span> -->
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Hills.png" alt=""> Hills</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Meadow.png" alt=""> Meadow</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Wood.png" alt=""> Woods</span>
                    </th>
                    <th>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Tent.png" alt=""> Tent</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Trailer.png" alt=""> Trailer</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/RV.png" alt=""> RV</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/guests.png" alt=""> Guests</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Pets.png" alt=""> Pets</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Car.png" alt=""> Vehicle</span>
                    </th>
                    <th>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Length.png" alt=""> Length</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Tent-Pad.png" alt=""> Tent Pad</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Level.png" alt=""> Level</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Base.png" alt=""> Base</span>
                    </th>
                    <th>
                        <span><img style="width: 30px;" src="<?php echo base_url(); ?>assets/images/icons/Elec.png" alt=""> Electricity</span>
                    </th>
                    <th>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Public-Water.png" alt=""> Water</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Sewer.png" alt=""> Sewer</span>
                    </th>
                    <th>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Wifi.png" alt=""> Wifi</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Cable-TV.png" alt=""> Cable TV</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Phone.png" alt=""> Phone</span>
                    </th>
                    <th>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Sun.png" alt=""> Sun</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Shade.png" alt=""> Shade</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Partial-Shade.png" alt=""> Partial Shade</span>
                    </th>
                    <th>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Table.png" alt=""> Table</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/FireRing.png" alt=""> Fire-ring</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/FireRing-Grill.png" alt=""> FireRing Grill</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Grill.png" alt=""> Grill</span>
                        <span><img src="<?php echo base_url(); ?>assets/images/icons/Shelter.png" alt=""> Shelter</span>
                        <!-- <span><img src="images/icons/Tent-Pad.png" alt=""> Tent Pad</span> -->
                    </th>
                </tr>
            </table>
        </div>
    </div>
</div>
</div>
</div>

<div class="fixed-btn">
    <a href="#iconModal" data-toggle="modal" class="fixed-button">Description of icons</a>
    <a href="javascript:void(0)" class="fa fa-long-arrow-right close-btn"></a>
    <!-- <a href="javascript:void(0)" class="fa fa-long-arrow-right open-btn"></a> -->
</div>
<!--// Main Section \\-->
<div class="ccg-main-section">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="site-search">
                    <form action="">
                        <a href="#" data-toggle="tooltip" title="Click here to see Peggy & Steve’s top-rated campsites across all campgrounds?">Click here to see Peggy & Steve’s ...</a>
                        <ul class="show-search-form">
                            <li>
                                <label for="">Which region do you want to explore?</label>
                                <select name="regionSearch" id="regionSearch" >
                                    <option value="">Select</option>
                                    <?php foreach ($regions as $region) { ?>
                                     <option value="<?php echo $region->id; ?>"><?php echo $region->name; ?></option>
                                 <?php } ?>
                             </select>
                         </li>
                         <li>
                            <label value="">Which Parent Campground do you want to explore? <small>Select region first</small></label>

                            <select name="parentCampground"  id="parentCampground">
                                <option value="">Select Parent Campground</option>


                            </select>
                        </li>
                                   <!--      <li>
                                            <label for="">What level of camping do you desire?</label>
                                            <select name="" id="">
                                                <option value="">Select</option>
                                                <option value="">No hookups</option>
                                                <option value="">electric</option>
                                                <option value="">electric & water</option>
                                                <option value="">electric, water and sewer</option>
                                            </select>
                                        </li> -->
                                        <li>
                                            <label for="">What type of campground do you want?</label>
                                            <select name="searchCamp" id="searchCamp">
                                                <option value="">Select</option>
                                                <?php foreach ($childcampgrounds as $campground) { ?>
                                                 <option value="<?php echo $campground->c_id; ?>"><?php echo $campground->c_name; ?></option>
                                             <?php } ?>
                                         </select>
                                     </li>
                                     <li>
                                        <label for="">What type of camping are you doing?</label>
                                        <select class="motorhome" name="campingSearch" id="campingSearch">
                                            <option value="">Select</option>
                                            <?php foreach ($campings as $camping) { ?>
                                             <option value="<?php echo $camping->camping_id; ?>"><?php echo $camping->camping_name; ?></option>
                                         <?php } ?>
                                     </select>
                                 </li>
                                 <li class="full rv">
                                    <ul>
                                        <li>
                                            <label for="">What length campsite is required?</label>
                                            <select name="campsiteLength" id="campsiteLength">
                                                <option value="">Select</option>
                                                <option value="20">20</option>
                                                <option value="30">30</option>
                                                <option value="35">35</option>
                                                <option value="40">40</option>
                                                <option value="45">45</option>
                                                <option value="50">50+</option>
                                            </select>
                                        </li>
                                        <li>
                                            <label for="">Do you need electricity?</label>
                                            <select class="electricity" name="searchElectricity" id="searchElectricity">
                                                <option value="">Select</option>
                                                <option value="electricity">Yes</option>
                                                <option value="No">No</option>

                                            </select>
                                        </li>
                                        <li class="full ampere">
                                            <ul>
                                                <li>
                                                    <label for="">What Amperage?</label>
                                                    <select name="ampereageSearch" id="ampereageSearch">
                                                        <option value="">Select</option>
                                                        <?php foreach ($parameter_amps as $parameter_amp) { ?>
                                                         <option value="<?php echo $parameter_amp->amp_id; ?>"><?php echo $parameter_amp->amp_name; ?></option>
                                                     <?php } ?>
                                                 </select>
                                             </li>
                                         </ul>
                                     </li>
                                     <li>
                                        <label for="">Do you need a Water supply?</label>
                                        <select name="WaterSupply" id="WaterSupply">
                                            <option value="">Select</option>
                                            <?php foreach ($parameter_waters as $parameter_water) { ?>
                                             <option value="<?php echo $parameter_water->water_id; ?>"><?php echo $parameter_water->water_name; ?></option>
                                         <?php } ?>
                                     </select>
                                 </li>
                                 <li>
                                    <label for="">Do you need sewer ?</label>
                                    <select name="sewerSupply" id="sewerSupply">
                                        <option value="">Select</option>
                                        <?php foreach ($parameter_sewers as $parameter_sewer) { ?>
                                         <option value="<?php echo $parameter_sewer->sewer_id; ?>"><?php echo $parameter_sewer->sewer_name; ?></option>
                                     <?php } ?>
                                 </select>
                             </li>
                         </ul>
                     </li>
                     <li>
                        <label for="">What kind of view do you want?</label>
                        <select name="typeView" id="typeView">
                            <option value="">Select</option>
                            <?php foreach ($views as $view) { ?>
                             <option value="<?php echo $view->view_id; ?>"><?php echo $view->view_name; ?></option>
                         <?php } ?>
                     </select>
                 </li>
                 <li>
                    <label for="">What level of shade is required?</label>
                    <select name="shade" id="shade">
                        <option value="">Select</option>
                        <?php foreach ($parameter_shades as $parameter_shade) { ?>
                         <option value="<?php echo $parameter_shade->shade_id; ?>"><?php echo $parameter_shade->shade_name; ?></option>
                     <?php } ?>
                 </select>
             </li>
             <li>
                <label for="">Do you require a picnic table?</label>
                <select name="picnicTable" id="picnicTable">
                    <option value="">Select</option>
                    <?php foreach ($parameter_tables as $parameter_table) { ?>
                     <option value="<?php echo $parameter_table->table_id; ?>"><?php echo $parameter_table->table_name; ?></option>
                 <?php } ?>
             </select>
         </li>
                                       <!--  <li>
                                            <label for="">Do you require a fire ring?</label>
                                            <select name="" id="">
                                                <option value="">Select</option>
                                                <option value="">Yes</option>
                                                <option value="">No</option>
                                            </select>
                                        </li> -->
                                      <!--   <li>
                                            <label for="">Do you require a grill?</label>
                                            <select name="" id="">
                                                <option value="">Select</option>
                                                <option value="">Yes</option>
                                                <option value="">No</option>
                                            </select>
                                        </li> -->
                                        <li>
                                            <label for="">What are your maximum yards to a restroom?</label>
                                            <select name="restroom" id="restroom">
                                                <option value="">Select</option>
                                                <option value="20">20</option>
                                                <option value="30">30</option>
                                                <option value="40">40</option>
                                                <option value="50">50</option>
                                                <option value="60">60</option>
                                                <option value="70">70</option>
                                                <option value="80">80</option>
                                                <option value="90">90</option>
                                                <option value="100">100</option>
                                                <!-- <option value="">Doesn’t matter</option> -->
                                            </select>
                                        </li>
                                        <li>
                                            <label for="">What are your maximum yards to a water source?</label>
                                            <select name="source" id="source">
                                                <option value="">Select</option>
                                                <option value="20">20</option>
                                                <option value="30">30</option>
                                                <option value="40">40</option>
                                                <option value="50">50</option>
                                                <option value="60">60</option>
                                                <option value="70">70</option>
                                                <option value="80">80</option>
                                                <option value="90">90</option>
                                                <option value="100">100</option>
                                            </select>
                                        </li>
                                    </ul>
                                    <span>
                                        <a href="javascript:void(0)" class="show-form">Advanced Search</a>
                                        <!-- <div class="clearfix"></div> -->
                                        <!-- <input type="submit" value="Submit"> -->
                                        <!-- <a href="javascript:void(0)" style="float:left" class="search-pagination" onclick="function_name()">Submit</a> -->
                                        <a href="javascript:void(0)" style="float:left" class="search-pagination" >Submit</a>


                                    </span>
                                </form>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="search-result">
                              <!--   <ul class="titles">
                                    <li>
                                        <a href="parent-campground.html">Arkansas Headwaters Recreation Area (AHRA) Info</a>
                                    </li>
                                    <li>
                                        <a href="child-campground.html">Five Point info</a>
                                    </li>
                                </ul> -->
                                <div class="campground-map-detail" id="search-pro">
                                   <input type="hidden" name="id" id="e_id" value="<?php echo $this->session->userdata['userdata']['id']; ?>">
                                   <table class="detail" >
                                    <tr>
                                        <th><span>Site #</span><span>Picture</span> <span>Spacing</span> <span>Type of View</span></th>
                                        <th><span>Tent</span><span>Trailer</span><span>RV</span><span>#Guests</span><span>Pets</span><span>#Cars</span></th>
                                        <th><span>Length</span> <span>Grade</span> <span>Base</span></th>
                                        <th><span>Access</span></th>
                                        <th><span>Elec</span><span>Amps</span></th>
                                        <th><span>Water</span> <span>Sewer</span></th>
                                        <th><span>Wifi</span><span>Cable TV</span><span>Service Provider</span></th>
                                        <th><span>Shade</span><span>Partial Shade</span><span>Sunny</span></th>
                                        <th><span>Table</span> <span>Firing </span> <span>Grill</span></th>
                                        <th><span>Yrds to</span><span>Toilet</span><span>Water</span><span>Trash</span></th>
                                    </tr>
                                    <!-- pickup id and do pagination using jquer on this page -->
                                    <tbody id="htmlShow">

                      <!-- 
                                        <tr>
                                            <td><span>1</span><span><a class="elem" href="images/map2.png" data-lcl-thumb="images/map2.png"><img src="images/img.png" alt=""></a></span> <span style="margin: 5px 0px 15px; display: inline-block;">Tight</span> <span><i class="icon-River" data-toggle="tooltip" title="River"></i></span> <a data-toggle="tooltip" style="color: red;" title="Favorite" href="#" class="heart-icon fa fa-heart"></a></td>
                                            <td><span><i class="icon-Tent" data-toggle="tooltip" title="Tent"></i></span><span><i class="icon-trailer" data-toggle="tooltip" title="Trailer"></i></span> <span><i class="icon-RV" data-toggle="tooltip" title="RV"></i></span><span><i class="icon-guests" data-toggle="tooltip" title="6 Pers"></i></span><span><i class="icon-Pets" data-toggle="tooltip" title="Domestic only"></i></span><span><i class="icon-Car" data-toggle="tooltip" title="2 Cars"></i></span></td>
                                            <td><span>39 ft</span><span>18 / 14</span> <span>Slight</span> <span>Gravel</span></td>
                                            <td><span>Back In</span></td>
                                            <td><span><i class="icon-Elec" data-toggle="tooltip" title="Elec"></i></span></td>
                                            <td><span><i class="icon-Water" data-toggle="tooltip" title="Water"></i></span></td>
                                            <td><span><i class="icon-Wifi" data-toggle="tooltip" title="Wifi"></i></span></td>
                                            <td><span><i class="icon-Sun" data-toggle="tooltip" title="Sun"></i></span></td>
                                            <td><span><i class="icon-Table" data-toggle="tooltip" title="Table"></i></span> <span><i class="icon-Fire" data-toggle="tooltip" title="Firing"></i></span> <span><i class="icon-Grill" data-toggle="tooltip" title="Grill"></i></span></td>
                                            <td><span>Xx Yrds</span><span>Xx Yrds</span><span>Xx Yrds</span></td>
                                        </tr> -->
                                    </tbody>


                                </table>
                                <ul id="campsites-paginate" class="pagination"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--// Main Section \\-->

    </div>
    <!--// Main Content  \\-->

    <script type="text/javascript">
        var baseurl="<?php echo base_url() ?>";
        $('#search-pro').submit(function () {

            function_name();

        });
        // window.onload = function_name();
        // window.onload = (event) => {
        //   console.log('page is fully loaded');
        // };
        
        function function_name () {
           alert('423');
           var length=10;
           $('#campsites-paginate').pagination({
    total: 1, // 总数据条数
    current: 1, // 当前页码
    length: length, // 每页数据量
    size: 1, // 显示按钮个数

    ajax: function(options, refresh, $target){
       var e_id=$('#e_id').val();
       var source=$('#source').val();
       var restroom=$('#restroom').val();
       var picnicTable=$('#picnicTable').val();
       var shade=$('#shade').val();
       var typeView=$('#typeView').val();
       var sewerSupply=$('#sewerSupply').val();
       var WaterSupply=$('#WaterSupply').val();
       var ampereageSearch=$('#ampereageSearch').val();
       var searchElectricity=$('#searchElectricity').val();
       var campsiteLength=$('#campsiteLength').val();
       var campingSearch=$('#campingSearch').val();
       var searchCamp=$('#searchCamp').val();
       var regionSearch=$('#regionSearch').val();
       var ampereageSearch=$('#ampereageSearch').val();
       var sorting='12';

       var html='';
       $.ajax({
        url: baseurl+'campsiteList',
        type: 'POST',
        data:{
            current: options.current,
            length: options.length,
            sorting: sorting,
            e_id: e_id,
            source: source,
            restroom: restroom,
            picnicTable: picnicTable,
            shade: shade,
            typeView: typeView,
            sewerSupply: sewerSupply,
            WaterSupply: WaterSupply,
            ampereageSearch: ampereageSearch,
            searchElectricity: searchElectricity,
            campsiteLength: campsiteLength,
            campingSearch: campingSearch,
            searchCamp: searchCamp,
            regionSearch: regionSearch,
            ampereageSearch: ampereageSearch,

        },
        dataType: 'json'
    }).done(function(res){
        console.log(res);

        if(res['sitedescription'].length!=0)
        {
            var sitedescription=res['sitedescription'];
            var sitedescription_pics=res['sitedescription_pics'];
            var campings=res['campings'];
            var views=res['views'];
            var waters=res['waters'];
            var sewers=res['sewers'];
            var amps=res['amps'];
            var tables=res['tables'];
            var favoriteCampsit=res['favorite'];
            // console.log(sitedescription);
            // console.log(sitedescription_pics);
            //    console.log(campings);
            //        console.log(views);
            //            console.log(waters);
            //                console.log(sewers);
            //                    console.log(amps);
            //                        console.log(tables);

            for (var i = 0 ; i <sitedescription.length; i++) {
                //for site no
                   // alert(sitedescription[i]['site_no']);
                   var site_no='';
                   if(sitedescription[i]['site_no'] != null &&  sitedescription[i]['site_no'] != ''){
                       site_no= ' '+sitedescription[i]['site_no'];
                   }
                   else{
                      site_no= '';
                  }
                //site_pics are not done yet
                // var ii=0;
                var site_pics='';

                if(sitedescription_pics != null && sitedescription_pics!=''){
                    var ii=0;
                    var img='';
                    for (var s = 0 ; s <sitedescription_pics[sitedescription[i]['siteId']].length; s++) {
                        // alert(sitedescription_pics[s]['sitePic']);
                        if(ii == 0){
                            img='<img style="width:156px;" src="'+baseurl+'uploads/SiteDescription/'+sitedescription_pics[sitedescription[i]['siteId']][s]['sitePic']+'" alt="">';
                        }else{
                            img='';
                        }
                        site_pics+='<a class="elem" rel="section-'+sitedescription[i]['siteId']+'" href="'+baseurl+'uploads/SiteDescription/'+sitedescription_pics[sitedescription[i]['siteId']][s]['sitePic']+'" data-lcl-thumb="'+baseurl+'uploads/SiteDescription/'+sitedescription_pics[sitedescription[i]['siteId']][s]['sitePic']+'">'+img+'</a>';
                        ii++;
                    }}
                    else{
                        site_pics='N/A';
                    }

              // for spacing sitedescription_pics
              var site_img= '';
              var img_url= baseurl+'uploads/SideParameter/';
              if(sitedescription[i]['sp_image'] != null &&  sitedescription[i]['sp_image'] != '')
              {
                  site_img= '<span data-toggle="tooltip" data-placement="left"  title="Spacing"><img src="'+img_url+''+sitedescription[i]['sp_image']+'" alt="..." ></span>'
              }
              else if(sitedescription[i]['sp_name'] != null &&  sitedescription[i]['sp_name'] != ''){
               site_img= '<span data-toggle="tooltip" data-placement="left" title="Spacing">'+sitedescription[i]['sp_name']+'</span>';
           }
           else{
               site_img= '<span data-toggle="tooltip" data-placement="left" title="Spacing"> N/A </span>';
           }

          //for view type
          // alert(sitedescription[i]['viewType']);
          // var des_view = sitedescription[i]['viewType'].split('@@');
// testing


          //
          // alert(sitedescription[i]['viewType']);
          var des_view = sitedescription[i]['viewType'].split('@@');
          // var dat=array(des_view);
          // alert(des_view);
          var view_image='';
          var viewimg_url=baseurl+'uploads/SideParameter/';
          var view_type='';
          var found_view='';
            // alert(views.length);
            for (var v=0; v<views.length; v++) {
                        // alert(v);
                        // alert(des_view);
                        if(jQuery.inArray(views[v]['view_id'], des_view) != -1) {
                           if(views[v]['view_image'] != null && views[v]['view_image'] != ''){
                               view_type+='<span><img data-toggle="tooltip" data-placement="left"  title="'+views[v]['view_name']+'" src="'+viewimg_url+''+views[v]['view_image']+'"  alt="..."></span>';
                           }
                           else if(views[v]['view_name'] !=null && views[v]['view_name']!='' ){
                             view_type+='<span>'+views[v]['view_name']+'</span>';
                         }
                         else{
                            view_type='<span>N/A</span>';
                        }
                    }
                }

                     //for camps tent 2nd td start

                     var des_camp = sitedescription[i]['campType'].split('@@');
                     var camp_image='';
                     var campimg_url=baseurl+'uploads/SideParameter/';
                     var camp_type='';
                     var found_camp='';

                     for (var c = 0 ; c <campings.length; c++) {
                        // alert(campings[c]['camping_name']);
                        // alert(des_camp);
                         //  found_camp = campings[c]['camping_id'].includes(des_camp);
                         // alert(campings[c]['camping_id']);
                         if(jQuery.inArray(campings[c]['camping_id'], des_camp) != -1){
                           if(campings[c]['camping_image'] != null && campings[c]['camping_image'] != '' ){

                               camp_type+='<span><img  data-toggle="tooltip" data-placement="left"  title="'+campings[c]['camping_name']+'" src="'+campimg_url+''+campings[c]['camping_image']+'" alt="..."></span>';
                           }
                           else if(campings[c]['camping_name'] !=null && campings[c]['camping_name']!='' ){
                             camp_type+='<span>'+campings[c]['camping_name']+'</span>';
                         }
                         else{
                            camp_type='<span>N/A</span>';
                        }
                    }
                }
          //3rd td start 
          // for length tariler
          var lengthTrailer='';
          if(sitedescription != null && sitedescription !=''){
            // sitedescription[i]['lengthTrailer'] +' ft'
            lengthTrailer='<img data-toggle="tooltip" data-placement="left"  title="'+sitedescription[i]['lengthTrailer']+' ft" src="<?php echo base_url(); ?>assets/images/icons/Length.png" alt="">';
        }
         // for grade
         var grade_img='';
         var gradleimg_url= baseurl+'uploads/SideParameter/';
         if(sitedescription[i]['grade_image'] != null &&  sitedescription[i]['grade_image'] != '')
         {
           grade_img= '<img data-toggle="tooltip" data-placement="left"  title="'+sitedescription[i]['grade_name']+'" src="'+gradleimg_url+''+sitedescription[i]['grade_image']+'" alt="...">';
       } else if(sitedescription[i]['grade_name'] !=null && sitedescription[i]['grade_name'] !='' ){
          grade_img=sitedescription[i]['grade_name'] +' <br>';
      }else{
        grade_img='N/A';
    }


             //for base 
             var base_img='';
             var baseimg_url= baseurl+'uploads/SideParameter/';
             if(sitedescription[i]['base_image'] != null &&  sitedescription[i]['base_image'] != '')
             {
               base_img= '<img data-toggle="tooltip"" data-placement="left"  title="'+sitedescription[i]['base_name']+'" src="'+baseimg_url+''+sitedescription[i]['base_image']+'" alt="..."> ';
           }
           else if(sitedescription[i]['base_name'] !=null && sitedescription[i]['base_name'] !='' ){
              base_img=sitedescription[i]['base_name'];
          }
          else{
            base_img='N/A';
        }
                         //fourth td start acess
                         var aces_img='';
                         var acesimg_url= baseurl+'uploads/SideParameter/';
                         if(sitedescription[i]['acess_image'] != null &&  sitedescription[i]['acess_image'] != '')
                         {
                           aces_img= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['acess_name']+'" src="'+acesimg_url+''+sitedescription[i]['acess_image']+'" alt="..."> ';
                       }
                       else if(sitedescription[i]['acess_name'] !=null && sitedescription[i]['acess_name'] !='' ){
                          aces_img=sitedescription[i]['acess_name'];
                      }
                      else{
                        aces_img='N/A';
                    }

                         //5th td start
                         // for amps

                         var des_amps = sitedescription[i]['amps'].split('@@');
                         var amp_image='';
                         var ampimg_url=baseurl+'uploads/SideParameter/';
                         var amp_type='';
                         var found_amp='';
                         if(sitedescription[i]['electric']=='Yes'){
                           for (var a = 0 ; a <amps.length; a++) {
                          // found_amp = amps[a]['amp_id'].includes(des_amps);
                         // alert(found_view);
                         if(jQuery.inArray(amps[a]['amp_id'], des_amps) != -1){
                           if(amps[a]['amp_image'] != null && amps[a]['amp_image'] != '' ){

                               amp_type+='<span><img data-toggle="tooltip" data-placement="left"  title="'+amps[a]['amp_name']+'" src="'+ampimg_url+''+amps[a]['amp_image']+'" alt="..."></span>';
                           }
                           else if(amps[a]['amp_name'] !=null && amps[a]['amp_name']!='' ){
                             amp_type+='<span>'+amps[a]['amp_name'] +' AMPS </span>' ;
                         }
                         else{
                            amp_type='<span>N/A</span>';
                        }
                        
                    }
                }
            }

                     // 6th td start
                     // for water
                     var des_water = sitedescription[i]['water'].split('@@');
                     var water_image='';
                     var waterimg_url=baseurl+'uploads/SideParameter/';
                     var water_type='';
                     var found_water='';
                     for (var w = 0 ; w <waters.length; w++) {
                          // found_water = waters[w]['water_id'].includes(des_water);
                         // alert(found_view);
                         if(jQuery.inArray(waters[w]['water_id'], des_water) != -1){
                           if( waters[w]['water_image'] != null && waters[w]['water_image'] != '' ){

                               water_type+='<span><img data-toggle="tooltip" data-placement="left"  title="'+waters[w]['water_name']+'" src="'+waterimg_url+''+waters[w]['water_image']+'" alt="..."></span>';
                           }
                           else if(waters[w]['water_name'] !=null && waters[w]['water_name']!='' ){
                             water_type+='<span data-toggle="tooltip" data-placement="left"  title="Water" >'+waters[w]['water_name'] +'</span>';
                         }
                         else{
                            water_type='<span>N/A</span>';
                        }
                        
                    }
                }
                     //for sewer

                     var des_sewer = sitedescription[i]['sewer'].split('@@');
                     var sewer_image='';
                     var sewerimg_url=baseurl+'uploads/SideParameter/';
                     var sewer_type='';
                     var found_sewer='';
            // <i class="icon-Elec" data-toggle="tooltip" title="'+sitedescription[i]['electric']+'"></i>
            if(sitedescription[i]['electric']=='Yes' || sitedescription[i]['electric']=='yes'){
                var electric=' <span><img  data-toggle="tooltip" data-placement="left"  title="'+sitedescription[i]['electric']+'" src="<?php echo base_url(); ?>assets/images/icons/Elec.png" alt=""></span>'
            }else{
                var electric=''
            }
            for (var s = 0 ; s <sewers.length; s++) {
              found_sewer = sewers[s]['sewer_id'].includes(des_sewer);
                         // alert(found_view);
                         if(jQuery.inArray(sewers[s]['sewer_id'], des_sewer) != -1){
                           if(sewers[s]['sewer_image'] != null && sewers[s]['sewer_image'] != '' ){

                               sewer_type+='<span><img data-toggle="tooltip" data-placement="left"  title="'+sewers[s]['sewer_name']+'" src="'+sewerimg_url+''+sewers[s]['sewer_image']+'" alt="..."></span>';
                           }
                           else if(sewers[s]['sewer_name'] !=null && sewers[s]['sewer_name']!='' ){
                             sewer_type+='<span data-toggle="tooltip" data-placement="left"  title="Sewer" >'+sewers[s]['sewer_name']+'</span>';
                         }
                         else{
                            sewer_type='<span>N/A</span>';
                        }
                        
                    }}
                     // 7th td start
                     // for wifi
                     var wifi_img='';
                     var wifiimg_url= baseurl+'uploads/SideParameter/';
                     if(sitedescription[i]['wifi_image'] != null &&  sitedescription[i]['wifi_image'] != '')
                     {
                       wifi_img= '<img  data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['wifi_name']+'" src="'+wifiimg_url+''+sitedescription[i]['wifi_image']+'" alt="..."> ';
                   }
                   else if(sitedescription[i]['wifi_name'] !=null && sitedescription[i]['wifi_name'] !='' ){
                      wifi_img=sitedescription[i]['wifi_name'];
                  }
                  else{
                    wifi_img='N/A';
                }
                      //for cable
                      var cable_img='';
                      var cableimg_url= baseurl+'uploads/SideParameter/';
                      if(sitedescription[i]['cable_image'] != null &&  sitedescription[i]['cable_image'] != '')
                      {
                       cable_img= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['cable_name']+'" src="'+cableimg_url+''+sitedescription[i]['cable_image']+'" alt="..."> ';
                   }
                   else if(sitedescription[i]['cable_name'] !=null && sitedescription[i]['cable_name'] !='' ){
                      cable_img=sitedescription[i]['cable_name'];
                  }
                  else{
                    cable_img='N/A';
                }
                         //for verizon
                         var verizon_img='';
                         var verizonimg_url= baseurl+'uploads/SideParameter/';
                         if(sitedescription[i]['verizon_image'] != null &&  sitedescription[i]['verizon_image'] != '')
                         {
                           verizon_img= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['verizon_name']+'" src="'+verizonimg_url+''+sitedescription[i]['verizon_image']+'" alt="..."> ';
                       }
                       else if(sitedescription[i]['verizon_name'] !=null && sitedescription[i]['verizon_name'] !='' ){
                          verizon_img=sitedescription[i]['verizon_name'];
                      }
                      else{
                        verizon_img='N/A';
                    }
                    var barICon='';
                    if(sitedescription[i]['coverage']!=null && sitedescription[i]['coverage']!='')
                    {
                        if(sitedescription[i]['coverage']=='1bar'){
                            barICon= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['verizon_name']+''+sitedescription[i]['coverage']+'" src="'+verizonimg_url+'1-Bar.png" alt="..."> ';    
                        }else if(sitedescription[i]['coverage']=='2bar'){
                            barICon= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['verizon_name']+''+sitedescription[i]['coverage']+'" src="'+verizonimg_url+'2-Bars.png" alt="..."> ';    

                        }else if(sitedescription[i]['coverage']=='3bar'){
                            barICon= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['verizon_name']+''+sitedescription[i]['coverage']+'" src="'+verizonimg_url+'3-Bars.png" alt="..."> ';    

                        }
                        else if(sitedescription[i]['coverage']=='4bar'){
                            barICon= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['verizon_name']+''+sitedescription[i]['coverage']+'" src="'+verizonimg_url+'4-Bars.png" alt="..."> ';    

                        }else{
                           barICon= '<img data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['verizon_name']+'" src="'+verizonimg_url+'No-Bars.png" alt="..."> ';                    
                       }
                   }


            //for 8th td
            var shade_img='';
            var shadeimg_url= baseurl+'uploads/SideParameter/';
            if(sitedescription[i]['shade_image'] != null &&  sitedescription[i]['shade_image'] != '')
            {
               shade_img= '<img  data-toggle="tooltip" data-placement="left" title="'+sitedescription[i]['shade_name']+'" src="'+shadeimg_url+''+sitedescription[i]['shade_image']+'" alt="..."> ';
           }
           else if(sitedescription[i]['shade_name'] !=null && sitedescription[i]['shade_name'] !='' ){
              shade_img=sitedescription[i]['shade_name'];
          }
          else{
            shade_img='N/A';
        }

               //for 9th td
               var des_table = sitedescription[i]['s_table'].split('@@');
               var table_image='';
               var tableimg_url=baseurl+'uploads/SideParameter/';
               var table_type='';
               var found_table='';
               for (var t = 0 ; t <tables.length; t++) {
                  found_table = tables[t]['table_id'].includes(des_table);
                         // alert(found_view);
                         if(jQuery.inArray(tables[t]['table_id'], des_table) != -1){
                           if(tables[t]['table_image'] != null && tables[t]['table_image'] != '' ){

                               table_type+='<span><img data-toggle="tooltip" data-placement="left"  title="'+tables[t]['table_name']+'" src="'+tableimg_url+''+tables[t]['table_image']+'" alt="..."></span>';
                           }
                           else if(tables[t]['table_name'] !=null && tables[t]['table_name']!='' ){
                             table_type+='<span>'+tables[t]['table_name']+'</span>';
                         }
                         else{
                            table_type='N/A';
                        }
                    }
                }     
                if(sitedescription[i]['favourite']=='1')
                {
                    var likeFav='<section class="fav-like">Recomended Campsite</section><br><br><br>';
                }else{
                   var likeFav=' ';
               }
               var mango=0;
               for(var fv8=0;fv8<favoriteCampsit.length;fv8++){
                if(favoriteCampsit[fv8]['campsite_id']==sitedescription[i]['siteId']){
                 var likef='<a href="javascript:void(0)" class="favourite-user heart-'+sitedescription[i]['siteId']+'" data-id="'+sitedescription[i]['siteId']+'" data-fav="dislike"><i style="color:red" data-toggle="tooltip" title="Unlike" class="fa fa-heart"></i></a>';
                 mango++;

             }
         }
         if(mango==0)
         {
            var likef='<a href="javascript:void(0)" class="favourite-user heart-'+sitedescription[i]['siteId']+'" data-id="'+sitedescription[i]['siteId']+'" data-fav="like"><i data-toggle="tooltip" title="Like" class="fa fa-heart-o"></i></a>'; 
        }
// <i class="icon-guests" data-placement="left" data-toggle="tooltip" title='+sitedescription[i]['noGuest']+'></i>
// <i class="icon-Pets" data-toggle="tooltip" data-placement="left" title='+sitedescription[i]['pets']+'></i>
// <i class="icon-Car" data-placement="left" data-toggle="tooltip" title='+sitedescription[i]['noVehicle']+'></i>
html+=' <tr class="fav-like-wrap"><td>'+likeFav+' <span>Site #'+site_no+'</span><span>'+site_pics+'</span>'+site_img+' <span>'+view_type+'</span>'+likef+'</td><td>'+camp_type+'<span><img  data-placement="left" data-toggle="tooltip" title='+sitedescription[i]['noGuest']+' src="<?php echo base_url(); ?>assets/images/icons/guests.png" alt=""></span><span><img  data-toggle="tooltip" data-placement="left" title='+sitedescription[i]['pets']+' src="<?php echo base_url(); ?>assets/images/icons/Pets.png" alt=""></span><span><img  data-placement="left" data-toggle="tooltip" title='+sitedescription[i]['noVehicle']+' src="<?php echo base_url(); ?>assets/images/icons/Car.png" alt=""></span></td> <td><span>'+lengthTrailer+'</span><span data-toggle="tooltip" data-placement="left"  title="'+sitedescription[i]['grade_name']+'">'+grade_img+'</span><span data-toggle="tooltip" data-placement="left"  title="'+sitedescription[i]['base_name']+'">'+base_img+'</span></td><td><span>'+aces_img+'</span></td><td><span>'+electric+'</span>'+amp_type+'</td> <td>'+water_type+''+sewer_type+'</td> <td><span>'+wifi_img+'</span><span>'+cable_img+'</span><span>'+verizon_img+'</span><span>'+barICon+'</span></td> <td><span>'+shade_img+'</span></td><td>'+table_type+'</td><td><span>'+sitedescription[i]['yardToilet']+' yards</span><span>'+sitedescription[i]['yardWater']+' yards</span><span>'+sitedescription[i]['yardTrash']+' yards</span></td></tr> ';
};
document.getElementById('htmlShow').innerHTML=html;
}else{
    document.getElementById('htmlShow').innerHTML='<span>No Record Found</span>';
}
res.total=res['total'];
refresh({
    total: res.total,
    length: length 
});
}).fail(function(error){

});
}
});

}

  // favorite campsite
  $(document).on('click','.favourite-user', function () {
    var id=$(this).attr("data-id");
    var fav=$(this).attr("data-fav");
    $.ajax({
       url:baseurl+'add-to-favorite',
       type:"POST",
       data: {'id' : id,'fav':fav },
       success: function(data){
                        // alert(data);
                        if(data==1)
                        {

                          $('.heart-'+id).html('<i style="color:red" data-toggle="tooltip" title="Unlike" class="fa fa-heart"></i>');  
                          $('.heart-'+id).attr("data-fav",'dislike');
                      }else if(data==2){
                          toastr.success("This campsite is already added in your favorite list");
                          
                      }else if(data==3)
                      {

                       $('.heart-'+id).html('<i style="color:red"  data-toggle="tooltip" title="Like" class="fa fa-heart-o"></i>'); 
                       $('.heart-'+id).attr("data-fav",'like');
                   }else if(data==4)
                   {
                    toastr.success("This campsite is not available in your favorite list");
                }else{
                            // location.reload();
                        }
                    }
                });

});


  $(function () {

     $('.close-btn').click(function () {
        $('.fixed-btn').toggleClass('active');
        $(this).toggleClass('active');
    });

  // $('[data-toggle="tooltip"]').tooltip()
})
  $('.show-form').click(function () {
    $('.show-search-form').toggleClass('show');
});



  $('.show-form').click(function(){
    var $this = $(this);
    $this.toggleClass('show-form');
            // $this.toggleClass("extra-form");
            if($this.hasClass('show-form')){
                $this.text('Advanced Search');         
            } else {
                $this.text('Basic Search');
            }
        });


        //*******************************
        // Toggle Function
        //******************************
        $(".full.ampere").hide();

    //     $('.motorhome').on('change',function(){ 
    //     var value = $(this).val();
    //     // alert(value);
    //     if(value=='motorhome'){

    //     }else{
    //       $(".extra-form.rv").hide();
    //     }
    // });

    $('.electricity').on('change',function(){ 
        var value = $(this).val();
        if(value=='electricity'){
          $(".full.ampere").show();
      }else{
          $(".full.ampere").hide();
      }

  });

// function fun()
//     {
//        var id = $('#regionSearch').val();
//     var base_urlLocal='<?php echo base_url();?>';
//     if(id != '')
//     {
//         alert(id);

//            $.ajax({
//            url: base_urlLocal+"user/UserController/parentCampGroundList",
//            type: 'POST',
//            data: {id: id},
//            dataType:'json',
//            error: function() {
//               alert('Something is wrong,Refresh your Page');
//            },
//            success: function(data1) {
//             // alert(data1);
//                 // $('#childcom').val('');
//                 var html = '';
//                 //  data1 = JSON.parse(data1);
//                 // alert(data1);

//                 html+='<option value="">Select Parent Campground</option>';
//                 alert(data1.length);
//                 for(var i=0; i<data1.length; i++){
//                     alert(data1[i]['p_id']);
//                     html += '<option value='+data1[i]['p_id']+'>'+data1[i]['name']+'</option>';
//                 }
//                 $('#parentCampground').html(html);
//                 // //onload auto selected cache function
//                 // document.getElementById("childcom").value = getSavedValue("childcom");
//      }
//           });
//       }
//     }



</script>